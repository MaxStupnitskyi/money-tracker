(this["webpackJsonpmoney-tracker"]=this["webpackJsonpmoney-tracker"]||[]).push([[0],{12:function(e,t,a){e.exports={hidden:"Balance_hidden__2InPI",container:"Balance_container__2hjxZ",addAccount:"Balance_addAccount__2M0eB",balance:"Balance_balance__2Ccxx",balance__accounts:"Balance_balance__accounts__1_Puz",button:"Balance_button__2OGFz",edit:"Balance_edit__oid_q",balance__transactions:"Balance_balance__transactions__XBcet",account:"Balance_account__3C5wb",account__title:"Balance_account__title__3qZaX",account__balance:"Balance_account__balance__3Fw63",account__delete:"Balance_account__delete__lTGlT",filter:"Balance_filter__2BAiL",title:"Balance_title__1-ztQ",subtitle:"Balance_subtitle__21_0a",errorMsg:"Balance_errorMsg__QUjUr",transactions:"Balance_transactions__2EI6R"}},15:function(e,t,a){e.exports={hidden:"Report_hidden__1XFiV",container:"Report_container__1oEBm",report__block:"Report_report__block__2-WAn",incomes:"Report_incomes__2-nmD",expenses:"Report_expenses__1nc8L",back:"Report_back__352Lc",backIcon:"Report_backIcon__1VIlw",dates:"Report_dates__1GDe4"}},17:function(e,t,a){e.exports={hidden:"DeleteCategoryModal_hidden__H_3rG",select:"DeleteCategoryModal_select__2obAW",arrow:"DeleteCategoryModal_arrow__1Aeqj",modal:"DeleteCategoryModal_modal__2w30q",modal__form:"DeleteCategoryModal_modal__form__3Tq0B",modal__title:"DeleteCategoryModal_modal__title__1D8Le",modal__button:"DeleteCategoryModal_modal__button__2_HjG",modal__buttons:"DeleteCategoryModal_modal__buttons__3h7EW",button:"DeleteCategoryModal_button__3zse0"}},20:function(e,t,a){e.exports={hidden:"AddTransaction_hidden__2xOmF",addTransaction:"AddTransaction_addTransaction__1HaUL",addTransaction__item:"AddTransaction_addTransaction__item__2L-fW",addTransaction__label:"AddTransaction_addTransaction__label__2sFm8",addTransaction__input:"AddTransaction_addTransaction__input__M9eCx",button:"AddTransaction_button__2Ez46",title:"AddTransaction_title__ZOEg_",subtitle:"AddTransaction_subtitle__3_Vjy",arrow:"AddTransaction_arrow__2kRYC"}},21:function(e,t,a){e.exports={header:"Header_header__JleW2",nav:"Header_nav__1HdCt",nav__item:"Header_nav__item__ywC0o",selected:"Header_selected__1dlme"}},22:function(e,t,a){e.exports={hidden:"AddCategoryModal_hidden__3tWiY",modal:"AddCategoryModal_modal__2q8Ra",modal__form:"AddCategoryModal_modal__form__19Iws",modal__title:"AddCategoryModal_modal__title__16Mat",modal__button:"AddCategoryModal_modal__button__3ZBPd",modal__buttons:"AddCategoryModal_modal__buttons__2NIx1",button:"AddCategoryModal_button__2NFXE",errorMsg:"AddCategoryModal_errorMsg__-guJS"}},28:function(e,t,a){e.exports={hidden:"Button_hidden__3e8tF",main:"Button_main__3mctV",edit:"Button_edit__1jPQv",danger:"Button_danger__1RVD5",muted:"Button_muted__2m4pK",small:"Button_small__2LXbV"}},29:function(e,t,a){e.exports={hidden:"Today_hidden__2nC8j",today:"Today_today__2GB-F",today__transactions:"Today_today__transactions__2BvNA",container:"Today_container__275o0",title:"Today_title__1X_rg",transactions:"Today_transactions__2RpyG"}},31:function(e,t,a){e.exports={hidden:"DeleteAccountModal_hidden__jnrmN",modal:"DeleteAccountModal_modal__39EFO",modal__form:"DeleteAccountModal_modal__form__3fENN",modal__title:"DeleteAccountModal_modal__title__3BH8G",modal__button:"DeleteAccountModal_modal__button__IVnig",modal__buttons:"DeleteAccountModal_modal__buttons__wd_Vo",button:"DeleteAccountModal_button__1cxLa"}},36:function(e,t,a){e.exports={hidden:"Modal_hidden__1Ose_",modal:"Modal_modal__-2DO5",modal__form:"Modal_modal__form__1tr_g",modal__title:"Modal_modal__title__eCMCV",modal__button:"Modal_modal__button__1lwar",modal__buttons:"Modal_modal__buttons__3KUuo",button:"Modal_button__3MUuQ",modalWrap:"Modal_modalWrap__2iiJT",overlay:"Modal_overlay__2Gig-"}},43:function(e,t,a){e.exports={hidden:"App_hidden__1pk_g",app:"App_app__2MPN3"}},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n,c=a(1),r=a.n(c),s=a(26),o=a.n(s),i=a(24),l=a(9),d=a(4),u=Object(d.b)({key:"transactions",default:JSON.parse(localStorage.getItem("transactions"))||[]}),_=Object(d.b)({key:"accounts",default:JSON.parse(localStorage.getItem("accounts"))||[{title:"Cash",balance:1e3,id:0}]}),b=Object(d.b)({key:"categories",default:JSON.parse(localStorage.getItem("categories"))||{expenses:["Food","Travel","Health","Car","House","Gifts","Entertainment","Restaurants, cafe"],incomes:["Salary","Dividend","Gift"]}}),j=Object(d.b)({key:"edit",default:null}),O=Object(d.b)({key:"editAccount",default:""}),m=Object(d.b)({key:"editSum",default:""}),h=Object(d.b)({key:"editCategory",default:""}),g=Object(d.b)({key:"editDate",default:""}),f=Object(d.b)({key:"activeStartDate",default:new Date((new Date).setDate(1)).toISOString()}),p=Object(d.b)({key:"activeEndDate",default:new Date(new Date(new Date((new Date).setDate(1)).toISOString()).setMonth(new Date(new Date((new Date).setDate(1)).toISOString()).getMonth()+1)).toISOString()}),v=Object(d.b)({key:"selectedDate",default:null}),x=Object(d.b)({key:"filter",default:null}),y=Object(d.b)({key:"filteredAcc",default:null}),w=Object(d.b)({key:"deletedCategory",default:null}),N=Object(d.b)({key:"moveTransactionsTo",default:null}),C=Object(d.b)({key:"categoryDelete",default:!1}),S=Object(d.b)({key:"addNewCategory",default:!1}),D=a(21),T=a.n(D),k=a(0),M=(new Date).getTimezoneOffset(),B=function(){var e=Object(d.e)(f),t=Object(d.e)(p),a=function(){var a=new Date,n=new Date(a.getFullYear(),a.getMonth(),1)-1e3*M*60,c=new Date(a.getFullYear(),a.getMonth()+1,0).setHours(23,59,59,999);e(new Date(n).toISOString()),t(new Date(c).toISOString())};return Object(k.jsx)("div",{className:T.a.header,children:Object(k.jsxs)("nav",{className:T.a.nav,children:[Object(k.jsx)(i.b,{className:T.a.nav__item,activeClassName:T.a.selected,to:"/",onClick:function(){return a()},exact:!0,children:"Today"}),Object(k.jsx)(i.b,{className:T.a.nav__item,activeClassName:T.a.selected,onClick:function(){return a()},to:"/balance",children:"Balance"}),Object(k.jsx)(i.b,{className:T.a.nav__item,activeClassName:T.a.selected,onClick:function(){return a()},to:"/budget",children:"Budget"}),Object(k.jsx)(i.b,{className:T.a.nav__item,activeClassName:T.a.selected,onClick:function(){return a()},to:"/report",children:"Report"})]})})},A=a(3),E=a(35),I=a(6),F=a(5),R=a(10),G=a.n(R),L=a(8),P=a.n(L),z=a(28),H=a.n(z),J={MAIN:H.a.main,DANGER:H.a.danger,MUTED:H.a.muted},W={SM:H.a.small},q=function(e){var t=e.className,a=void 0===t?"":t,n=e.type,c=void 0===n?J.MAIN:n,r=e.size,s=e.children,o=e.onClick,i=void 0===o?function(){}:o;return Object(k.jsx)("button",{type:"button",className:G()(a,c,r,H.a.button),onClick:i,children:s})},U=function(e){var t=e.showedTrans,a=e.className,n=[],r=Object(d.c)(u),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(d.d)(f),w=Object(d.d)(p),N=Object(d.d)(x),C=Object(d.d)(v),S=Object(d.c)(_),D=Object(A.a)(S,2),T=D[0],M=D[1],B=Object(d.d)(b),E=Object(d.c)(j),R=Object(A.a)(E,2),L=R[0],z=R[1],H=Object(d.c)(g),W=Object(A.a)(H,2),U=W[0],V=W[1],Q=Object(d.c)(m),Y=Object(A.a)(Q,2),X=Y[0],Z=Y[1],K=Object(d.c)(h),$=Object(A.a)(K,2),ee=$[0],te=$[1],ae=Object(d.c)(O),ne=Object(A.a)(ae,2),ce=ne[0],re=ne[1],se=Object(d.d)(y),oe=function(e){var t=Object(A.a)(e,6),a=t[0],n=t[1],c=t[2],r=t[3],s=t[4],l=t[5],d=void 0!==l&&l,u=o.findIndex((function(e){return e.id===a})),_=o[u].price,b={cat:r,price:_>0?+c:-c,date:s,id:a,account:n},j=T.findIndex((function(e){return e.id===n})),O=Object(F.a)({},T[j]);d&&(O.balance=O.balance-=_),O.balance-=!d&&_+(_>0?-c:+c);var m=d?[].concat(Object(I.a)(o.slice(0,u)),Object(I.a)(o.slice(u+1))):[].concat(Object(I.a)(o.slice(0,u)),[b],Object(I.a)(o.slice(u+1)));M([].concat(Object(I.a)(T.slice(0,j)),[O],Object(I.a)(T.slice(j+1)))),i(m)},ie=function(e){switch(N){case"date":return Object(I.a)(e).filter((function(e){var t=new Date(e.date).setHours(0,0,0,0);return new Date(t).toISOString()===(null===C||void 0===C?void 0:C.toISOString())})).sort((function(e,t){return new Date(t.date)-new Date(e.date)}));case"acc":return Object(I.a)(e).filter((function(e){return e.account===se})).sort((function(e,t){return new Date(t.date)-new Date(e.date)}));default:return Object(I.a)(e).sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}}(t||o).filter((function(e){return e.date>=l&&e.date<w})),le=(new Date).getTimezoneOffset(),de=function(e){!L&&0!==L||n.map((function(t){return null===t||void 0===t?void 0:t.contains(e.target)})).includes(!0)||z(null)};Object(c.useEffect)((function(){return document.body.addEventListener("click",de),function(){return document.body.removeEventListener("click",de)}}),[L]);var ue={month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},_e=ie.map((function(e){var t=Object(k.jsxs)("div",{className:"".concat(P.a.transactions__popover," ").concat(L===e.id?P.a.visible:""),children:[Object(k.jsxs)("div",{className:P.a.popover__item,children:[Object(k.jsx)("label",{className:P.a.popover__label,children:"Account:"}),Object(k.jsx)("select",{className:P.a.popover__input,value:ce,onChange:function(e){return re(T.find((function(t){return t.id===+e.target.value})).id)},children:T.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.title},e.id)}))})]}),Object(k.jsxs)("div",{className:P.a.popover__item,children:[Object(k.jsx)("label",{className:P.a.popover__label,children:"Sum:"}),Object(k.jsx)("input",{className:P.a.popover__input,type:"text",value:X,placeholder:"Enter the sum",onChange:function(e){"0"!==e.target.value.slice(0,1)&&e.target.value.match(/^[0-9]*\.?[0-9]{0,2}$/)&&Z(e.target.value)}})]}),Object(k.jsxs)("div",{className:P.a.popover__item,children:[Object(k.jsx)("label",{className:P.a.popover__label,children:"Category:"}),Object(k.jsx)("select",{className:P.a.popover__input,value:ee,onChange:function(e){return te(e.target.value)},children:B["".concat(e.price>0?"incomes":"expenses")].map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))})]}),Object(k.jsxs)("div",{className:P.a.popover__item,children:[Object(k.jsx)("label",{className:P.a.popover__label,children:"Date:"}),Object(k.jsx)("input",{className:P.a.popover__input,type:"datetime-local",value:U,onChange:function(e){return V(e.target.value)}})]}),Object(k.jsx)(q,{onClick:function(){oe([L,ce,X,ee,U,!1]),z(null)},className:G()([P.a.button,P.a.transactions__popover__button]),children:"Save Changes"}),Object(k.jsx)(q,{type:J.DANGER,onClick:function(){oe([L,ce,X,ee,U,!0]),z(null)},className:G()([P.a.button,P.a.transactions__popover__button]),children:"Delete"})]});return Object(k.jsxs)("div",{ref:function(t){return n[e.id]=t},onClick:function(t){return(null===L||L!==e.id)&&function(e,t){var a=new Date(t.date).getTime()-1e3*le*60;e.currentTarget.contains(e.target)&&!e.target.closest(".transactions__popover")&&(z(t.id),re(t.account),Z(Math.abs(t.price)),te(t.cat),V(new Date(a).toISOString().slice(0,16)))}(t,e)},className:P.a.transactions__item,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:P.a.transactions__item__cat,children:e.cat}),Object(k.jsx)("div",{className:P.a.transactions__item__date,children:new Date(e.date).toLocaleString(window.navigator.language,ue)})]}),Object(k.jsx)("div",{className:"".concat(P.a.transactions__item__price," ").concat(e.price>0?P.a.income:P.a.expense),children:String(e.price).includes(".")?"".concat(Math.abs(e.price).toFixed(2)," \u20b4"):"".concat(Math.abs(e.price)," \u20b4")}),t]},e.id)}));return Object(k.jsx)("div",{className:G()(P.a.transactions,a),children:_e.length>0?_e:Object(k.jsx)("h4",{className:P.a.transactions__none,children:"You don't have any transactions yet"})})},V=["title","titleId"];function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function X(e,t){var a=e.title,r=e.titleId,s=Y(e,V);return c.createElement("svg",Q({width:512,height:512,x:0,y:0,viewBox:"0 0 284.929 284.929",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},s),a?c.createElement("title",{id:r},a):null,n||(n=c.createElement("g",null,c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M282.082,76.511l-14.274-14.273c-1.902-1.906-4.093-2.856-6.57-2.856c-2.471,0-4.661,0.95-6.563,2.856L142.466,174.441   L30.262,62.241c-1.903-1.906-4.093-2.856-6.567-2.856c-2.475,0-4.665,0.95-6.567,2.856L2.856,76.515C0.95,78.417,0,80.607,0,83.082   c0,2.473,0.953,4.663,2.856,6.565l133.043,133.046c1.902,1.903,4.093,2.854,6.567,2.854s4.661-0.951,6.562-2.854L282.082,89.647   c1.902-1.903,2.847-4.093,2.847-6.565C284.929,80.607,283.984,78.417,282.082,76.511z",fill:"#ffffff"})),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}),c.createElement("g",{xmlns:"http://www.w3.org/2000/svg"}))))}var Z=c.forwardRef(X),K=(a.p,a(20)),$=a.n(K),ee=function(e){var t=e.label,a=e.type,n=e.value,c=e.onChange,r=e.options,s=e.placeholder,o=e.inputType;return Object(k.jsxs)("div",{className:$.a.addTransaction__item,children:[Object(k.jsx)("label",{className:$.a.addTransaction__label,children:t}),"select"===a?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("select",{className:$.a.addTransaction__input,value:n,onChange:function(e){return c(e)},children:r}),Object(k.jsx)(Z,{className:$.a.arrow})]}):Object(k.jsx)("input",{required:!0,className:$.a.addTransaction__input,type:o,value:n,placeholder:s,onChange:function(e){return c(e)}})]})},te=function(){var e=Object(d.d)(b),t=Object(d.c)(u),a=Object(A.a)(t,2),n=a[0],r=a[1],s=Object(d.c)(_),o=Object(A.a)(s,2),i=o[0],l=o[1],j=new Date,O=(new Date).getTimezoneOffset(),m=j.getTime()-1e3*O*60,h=Object(c.useState)(new Date(m).toISOString().slice(0,16)),g=Object(A.a)(h,2),f=g[0],p=g[1],v=Object(c.useState)(""),x=Object(A.a)(v,2),y=x[0],w=x[1],N=Object(c.useState)(e.expenses[0]),C=Object(A.a)(N,2),S=C[0],D=C[1],T=Object(c.useState)(i[0]),M=Object(A.a)(T,2),B=M[0],E=M[1],R=Object(c.useState)("expenses"),G=Object(A.a)(R,2),L=G[0],P=G[1],z=i.map((function(e){return Object(k.jsx)("option",{value:e.title,children:e.title},e.title)})),H=e[L]&&e[L].map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)})),U=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("option",{value:"expenses",children:"Expense"},"expenses"),Object(k.jsx)("option",{value:"incomes",children:"Income"},"incomes")]});return Object(c.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(n))}),[n]),Object(k.jsxs)("div",{className:$.a.addTransaction,children:[Object(k.jsx)("h1",{className:$.a.title,children:"New Transaction"}),i.length>0?Object(k.jsxs)("form",{children:[Object(k.jsx)(ee,{label:"Type:",type:"select",value:L,onChange:function(t){return function(t){P(t.target.value),e[t.target.value]&&D(e[t.target.value][0])}(t)},options:U},1),Object(k.jsx)(ee,{label:"Account:",type:"select",value:B.title,onChange:function(e){return E(i.find((function(t){return t.title===e.target.value})))},options:z},2),Object(k.jsx)(ee,{label:"Sum:",type:"input",value:y,placeholder:"Enter the sum",onChange:function(e){"0"!==e.target.value.slice(0,1)&&e.target.value.match(/^[0-9]*\.?[0-9]{0,2}$/)&&w(e.target.value)},inputType:"text"},3),"transfer"!==L&&Object(k.jsx)(ee,{label:"Category:",type:"select",value:S,onChange:function(e){return D(e.target.value)},options:H},4),Object(k.jsx)(ee,{label:"Date:",type:"input",inputType:"datetime-local",value:f,onChange:function(e){return p(e.target.value)}},5),Object(k.jsx)(q,{type:J.MAIN,size:W.SM,className:$.a.button,onClick:function(){return function(){var t;r([].concat(Object(I.a)(n),[{cat:S,price:"expenses"===L?Number(-"".concat(y)):+y,date:new Date(f).toISOString(),id:(null===(t=n[n.length-1])||void 0===t?void 0:t.id)+1||0,account:B.id}]));var a=i.findIndex((function(e){return B.id===e.id})),c=Object(F.a)({},i[a]),s="expenses"===L?-+y:+y;c.balance=+c.balance+s,l([].concat(Object(I.a)(i.slice(0,a)),[c],Object(I.a)(i.slice(a+1)))),w(""),D(e.expenses[0]),E(i[0]),P("expenses")}()},children:"Add"})]}):Object(k.jsx)("h4",{className:$.a.subtitle,children:"Please, create new account"})]})},ae=a(29),ne=a.n(ae),ce=(a(58),a(59),function(){var e=Object(d.e)(f),t=Object(d.e)(p),a=Object(d.e)(x),n=Object(d.c)(v),c=Object(A.a)(n,2),r=c[0],s=c[1],o=Object(d.d)(u);return Object(k.jsx)("div",{className:ne.a.container,children:Object(k.jsxs)("div",{className:ne.a.today,children:[Object(k.jsx)(E.a,{className:"react-calendar",minDetail:"year",showNeighboringMonth:!1,onChange:function(e){return s(e)},onClickDay:function(e,t){return function(e,t){t.currentTarget.classList.contains("react-calendar__tile--active")?(a(null),t.currentTarget.classList.remove("react-calendar__tile--active")):(t.currentTarget.classList.add("react-calendar__tile--active"),a("date"))}(0,t)},value:r,onActiveStartDateChange:function(n){return function(n){var c=new Date(n).setMonth(n.getMonth()+1);e(new Date(n).toISOString()),t(new Date(c).toISOString()),a(null)}(n.activeStartDate)},tileContent:function(e){return function(e,t){var a=new Set;return o.forEach((function(e){a.add(new Date(e.date).setHours(0,0,0,0))})),"month"===t&&Array.from(a).map((function(t){return new Date(e).getTime()===new Date(new Date(t)).getTime()?Object(k.jsx)("div",{className:"mark"},e):null}))}(e.date,e.view)}}),Object(k.jsxs)("div",{className:ne.a.today__transactions,children:[Object(k.jsx)("h1",{className:ne.a.title,children:"Transactions"}),Object(k.jsx)(U,{className:ne.a.transactions})]}),Object(k.jsx)(te,{})]})})}),re=a(14),se=a(13),oe=a.n(se),ie=a(27),le=a(12),de=a.n(le),ue=function(e){var t=e.children,a=e.className,n=Object(c.useState)(null),r=Object(A.a)(n,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){var e=document.createElement("div");return document.body.appendChild(e),a&&e.classList.add(a),i(e),function(){document.body.removeChild(e)}}),[]),s&&o.a.createPortal(t,s)},_e=a(36),be=a.n(_e),je=function(e){var t=e.onOverlayClick,a=e.children;return Object(k.jsx)(ue,{children:Object(k.jsxs)("div",{className:be.a.modalWrap,children:[Object(k.jsx)("div",{className:be.a.overlay,onClick:t}),Object(k.jsx)("div",{className:be.a.modal,children:a})]})})},Oe=a(31),me=a.n(Oe),he=function(e){var t=e.onOverlayClick,a=e.onAccountDelete,n=e.onCancelAccountDelete;return Object(k.jsx)(je,{onOverlayClick:t,children:Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{className:me.a.modal__title,children:"Are you sure you want to delete account? All account transactions will be deleted too"}),Object(k.jsxs)("div",{className:me.a.modal__buttons,children:[Object(k.jsx)(q,{onClick:a,type:J.DANGER,className:me.a.button,children:"Delete account"}),Object(k.jsx)(q,{className:me.a.button,onClick:n,type:J.MUTED,children:"Cancel"})]})]})})},ge=function(){var e=Object(d.c)(_),t=Object(A.a)(e,2),a=t[0],n=t[1],r=Object(d.c)(u),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(d.c)(x),b=Object(A.a)(l,2),j=b[0],O=b[1],m=Object(d.c)(f),h=Object(A.a)(m,2),g=h[0],v=h[1],w=Object(d.c)(p),N=Object(A.a)(w,2),C=N[0],S=N[1],D=Object(d.c)(y),T=Object(A.a)(D,2),M=T[0],B=T[1],E=Object(c.useState)(!1),F=Object(A.a)(E,2),R=F[0],L=F[1],P=Object(c.useState)(!1),z=Object(A.a)(P,2),H=z[0],J=z[1],V=Object(c.useState)(null),Q=Object(A.a)(V,2),Y=Q[0],X=Q[1],Z=Object(c.useState)(""),K=Object(A.a)(Z,2),$=K[0],ee=K[1],te=Object(c.useState)(""),ae=Object(A.a)(te,2),ne=ae[0],ce=ae[1],se=Object(c.useState)(!1),le=Object(A.a)(se,2),ue=le[0],_e=le[1],be=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.find((function(e){return e.title===$}));case 2:(t=e.sent)&&_e(!0),t||(n([].concat(Object(I.a)(a),[{title:$,balance:ne,id:(null===(c=a.slice(-1)[0])||void 0===c?void 0:c.id)+1||0}])),ee(""),ce(""),_e(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){localStorage.setItem("accounts",JSON.stringify(a))}),[a]),Object(c.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(o))}),[o]);var je=a.map((function(e){return Object(k.jsxs)("div",{onClick:function(){O(null!==j&&M===e.id?null:"acc"),B(M===e.id?null:e.id)},className:de.a.account,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:de.a.account__title,children:e.title}),Object(k.jsx)("div",{className:de.a.account__balance,children:String(e.balance).includes(".")?"".concat(Number(e.balance).toFixed(2)," \u20b4"):"".concat(e.balance," \u20b4")})]}),Object(k.jsxs)("div",{children:[e.id===M?"\u2713  ":"",R&&Object(k.jsx)("button",{className:de.a.account__delete,onClick:function(t){return function(e,t){e.stopPropagation(),J(!0),X(t)}(t,e.id)},children:"-"})]})]},e.title)}));return Object(k.jsx)("div",{className:de.a.container,children:Object(k.jsxs)("div",{className:de.a.balance,children:[Object(k.jsxs)("div",{className:de.a.balance__accounts,children:[Object(k.jsx)("h1",{className:de.a.title,children:"Accounts"}),je.length>0?je:Object(k.jsxs)("h4",{className:de.a.subtitle,children:["You don't have any accounts yet. ",Object(k.jsx)("br",{})," Please, create new account"]}),Object(k.jsx)(q,{size:W.SM,className:de.a.button,onClick:function(){return L(!R)},children:R?"Done":"Edit"}),R&&Object(k.jsxs)("form",{className:de.a.addAccount,children:[Object(k.jsx)("label",{children:"Create new Account"}),Object(k.jsx)("input",{type:"text",placeholder:"Title",autoFocus:!0,required:!0,value:$,onChange:function(e){return ee(e.target.value)}}),Object(k.jsx)("div",{className:G()(de.a.errorMsg,Object(re.a)({},de.a.hidden,!ue)),children:"Please, use unique name for account"}),Object(k.jsx)("input",{type:"text",required:!0,placeholder:"Balance",value:ne,onChange:function(e){e.target.value.match(/^[0-9]*\.?[0-9]{0,2}$/)&&ce(e.target.value)}}),Object(k.jsx)(q,{className:de.a.button,onClick:function(){return be()},children:"Add"})]})]}),Object(k.jsxs)("div",{className:de.a.balance__transactions,children:[Object(k.jsxs)("div",{className:de.a.filter,children:[Object(k.jsx)("input",{type:"date",value:g.slice(0,10),onChange:function(e){return v(new Date(e.target.value).toISOString())}}),Object(k.jsx)("span",{children:"\u2014"}),Object(k.jsx)("input",{type:"date",value:C.slice(0,10),min:g.slice(0,10),onChange:function(e){return S(new Date(e.target.value).toISOString())}})]}),Object(k.jsx)(U,{className:de.a.transactions})]}),H&&Object(k.jsx)(he,{onOverlayClick:function(){return J(!1)},onAccountDelete:function(){!function(e){var t=a.findIndex((function(t){return t.id===e})),c=o.slice(0).filter((function(t){return t.account!==e}));n([].concat(Object(I.a)(a.slice(0,t)),Object(I.a)(a.slice(t+1)))),i(c)}(Y),J(!1)},onCancelAccountDelete:function(){return J(!1)}})]})})},fe=a(17),pe=a.n(fe),ve=function(){var e,t=Object(d.c)(u),a=Object(A.a)(t,2),n=a[0],r=a[1],s=Object(d.c)(b),o=Object(A.a)(s,2),i=o[0],l=o[1],_=Object(d.d)(w),j=Object(d.e)(C),O=Object(c.useState)(N),m=Object(A.a)(O,2),h=m[0],g=m[1];return Object(c.useEffect)((function(){g(i[_[0]].filter((function(e){return e!==_[1]}))[0])}),[]),Object(k.jsx)(je,{onOverlayClick:function(){return j(!1)},children:Object(k.jsx)("div",{className:pe.a.modal,children:(null===(e=i[_[0]])||void 0===e?void 0:e.length)<=1?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{className:pe.a.modal__title,children:"You can't delete your last category"}),Object(k.jsx)("div",{className:pe.a.modal__buttons,children:Object(k.jsx)(q,{onClick:function(){return j(!1)},className:G()(pe.a.button,pe.a.modal__button),children:"Got it"})})]}):Object(k.jsxs)("form",{className:pe.a.modal__form,children:[0===_[2]?Object(k.jsx)("h3",{className:pe.a.modal__title,children:"Are you sure you want to delete category?"}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{className:pe.a.modal__title,children:"Please, select category for moving transactions"}),Object(k.jsxs)("div",{className:pe.a.select,children:[Object(k.jsx)("select",{onChange:function(e){return g(e.target.value)},children:i[_[0]].filter((function(e){return e!==_[1]})).map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))}),Object(k.jsx)(Z,{className:pe.a.arrow})]})]}),Object(k.jsxs)("div",{className:pe.a.modal__buttons,children:[Object(k.jsx)(q,{className:pe.a.button,type:J.DANGER,onClick:function(e){return function(e,t,a){var c=Object(A.a)(t,2),s=c[0],o=c[1];e.preventDefault();var d=i[s].findIndex((function(e){return e===o})),u=n,_=u.filter((function(e){return e.cat===o})).map((function(e){return Object(F.a)(Object(F.a)({},e),{},{cat:a})})),b=u.filter((function(e){return e.cat!==o})),O=[].concat(Object(I.a)(_),Object(I.a)(b));l("expenses"===s?{expenses:[].concat(Object(I.a)(i.expenses.slice(0,d)),Object(I.a)(i.expenses.slice(d+1))),incomes:i.incomes}:{expenses:i.expenses,incomes:[].concat(Object(I.a)(i.incomes.slice(0,d)),Object(I.a)(i.incomes.slice(d+1)))}),r(O),j(!1)}(e,_,h)},children:"Delete category"}),Object(k.jsx)(q,{className:pe.a.button,onClick:function(){return j(!1)},children:"Cancel"})]})]})})})},xe=a(22),ye=a.n(xe),we=function(e){var t=e.newCategoryType,a=e.setCategoryAdd,n=Object(d.c)(b),r=Object(A.a)(n,2),s=r[0],o=r[1],i=Object(d.e)(S),l=Object(c.useState)(""),u=Object(A.a)(l,2),_=u[0],j=u[1],O=Object(c.useState)(!1),m=Object(A.a)(O,2),h=m[0],g=m[1],f=function(){var e=Object(ie.a)(oe.a.mark((function e(a){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s["".concat(t,"s")].find((function(e){return e===a}));case 2:if(!(n=e.sent)){e.next=6;break}return g(!0),e.abrupt("return");case 6:n||("income"===t&&o({expenses:s.expenses,incomes:[].concat(Object(I.a)(s.incomes),[a])}),"expense"===t&&o({expenses:[].concat(Object(I.a)(s.expenses),[a]),incomes:s.incomes}),localStorage.setItem("categories",JSON.stringify(s)),i(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){}),[_]),Object(k.jsx)(je,{onOverlayClick:function(){return a(!1)},children:Object(k.jsxs)("div",{className:ye.a.modal,children:[Object(k.jsx)("h3",{className:ye.a.modal__title,children:"Please, enter the name of the category"}),Object(k.jsxs)("form",{className:ye.a.modal__form,onSubmit:function(e){return e.preventDefault()},children:[Object(k.jsx)("input",{type:"text",placeholder:"Type new category name",value:_,onChange:function(e){return j(e.target.value)}}),Object(k.jsx)("div",{className:G()(ye.a.errorMsg,Object(re.a)({},ye.a.hidden,!h)),children:"Please, use unique name for category"}),Object(k.jsxs)("div",{className:ye.a.modal__buttons,children:[Object(k.jsx)(q,{className:ye.a.button,onClick:function(){return f(_)},children:"Add"}),Object(k.jsx)(q,{type:J.MUTED,className:ye.a.button,onClick:function(){return a(!1)},children:"Cancel"})]})]})]})})},Ne=a(7),Ce=a.n(Ne),Se=(a(60),function(){var e=Object(d.d)(b),t=Object(d.d)(u),a=Object(d.c)(f),n=Object(A.a)(a,2),r=n[0],s=n[1],o=Object(d.c)(p),i=Object(A.a)(o,2),l=i[0],_=i[1],j=Object(d.e)(w),O=Object(d.c)(C),m=Object(A.a)(O,2),h=m[0],g=m[1],v=Object(c.useState)(null),x=Object(A.a)(v,2),y=x[0],N=x[1],D=Object(c.useState)(!1),T=Object(A.a)(D,2),M=T[0],B=T[1],I=Object(c.useState)([]),F=Object(A.a)(I,2),R=F[0],L=F[1],P=Object(d.c)(S),z=Object(A.a)(P,2),H=z[0],J=z[1],V=Object(c.useState)(null),Q=Object(A.a)(V,2),Y=Q[0],X=Q[1],Z=function(e){L(e)},K=function(e){J(!0),X(e)};Object(c.useEffect)((function(){localStorage.setItem("categories",JSON.stringify(e))}),[e]),Object(c.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(t))}),[t]);var $=function(a){var n=e[a].map((function(e){var n,c=t.filter((function(t){return t.cat===e&&t.date>=r&&t.date<l})),s=c.length>0?c.reduce((function(e,t){return e+Math.abs(t.price)}),0):0,o=Object(k.jsxs)("div",{className:Ce.a.category__wrap,"data-total":s,children:[Object(k.jsxs)("button",{className:G()(Ce.a.category,(n={},Object(re.a)(n,Ce.a.active,y===e),Object(re.a)(n,Ce.a.editable,M),n)),onClick:function(){y!==e?(Z(c),N(e)):(Z(t),L([]),N(null))},children:[Object(k.jsx)("div",{className:Ce.a.category__title,children:e}),Object(k.jsx)("div",{children:String(s).includes(".")?s.toFixed(2):s})]}),M&&Object(k.jsx)("button",{className:Ce.a.deleteCategory,onClick:function(){return function(e,t,a){console.log(e,t,a),j([e,t,a]),g(!0)}(a,e,s)},children:"-"})]},e);return(M||c.length>0)&&o})).filter((function(e){return!1!==e})).sort((function(e,t){return t.props["data-total"]-e.props["data-total"]})),c=n.reduce((function(e,t){return e+t.props["data-total"]}),0).toFixed(2);return{html:n,monthTotal:c}},ee=$("expenses"),te=$("incomes");return Object(k.jsxs)("div",{className:Ce.a.budget,children:[Object(k.jsxs)("div",{className:Ce.a.container,children:[Object(k.jsx)("div",{className:"calendar",children:Object(k.jsx)(E.a,{minDetail:"month",onActiveStartDateChange:function(e){return function(e){var t=new Date(e).setMonth(e.getMonth()+1);s(new Date(e).toISOString()),_(new Date(t).toISOString()),L([]),N(null)}(e.activeStartDate)}})}),Object(k.jsx)(q,{className:Ce.a.button,size:W.SM,onClick:function(){return B(!M)},children:M?"Done":"Edit"}),Object(k.jsxs)("div",{className:Ce.a.budget__content,children:[Object(k.jsxs)("div",{style:R.length>0?{flexBasis:"60%"}:{flexBasis:"100%"},children:[Object(k.jsxs)("div",{className:Ce.a.budget__category,children:[Object(k.jsxs)("div",{className:Ce.a.budget__category__header,children:[Object(k.jsx)("h1",{className:Ce.a.title,children:"expenses"}),Object(k.jsx)("div",{className:Ce.a.total,children:ee.monthTotal})]}),Object(k.jsxs)("div",{className:Ce.a.categories,children:[ee.html,M&&Object(k.jsx)(q,{className:G()(Ce.a.category,Ce.a.addButton),onClick:function(){return K("expense")},children:"Add Category"})]})]}),Object(k.jsxs)("div",{className:Ce.a.budget__category,children:[Object(k.jsxs)("div",{className:Ce.a.budget__category__header,children:[Object(k.jsx)("h1",{className:Ce.a.title,children:"Incomes"}),Object(k.jsx)("div",{className:Ce.a.total,children:te.monthTotal})]}),Object(k.jsxs)("div",{className:Ce.a.categories,children:[te.html,M&&Object(k.jsx)(q,{className:G()(Ce.a.category,Ce.a.addButton),onClick:function(){return K("income")},children:"Add Category"})]})]}),Object(k.jsxs)("div",{className:Ce.a.budget__footer,children:[Object(k.jsx)("h1",{className:Ce.a.title,children:"Balance:"}),Object(k.jsx)("div",{className:Ce.a.total,children:(te.monthTotal-ee.monthTotal).toFixed(2)})]})]}),Object(k.jsx)("div",{style:R.length>0?{flexBasis:"40%",display:"block"}:{display:"none"},children:Object(k.jsx)(U,{className:Ce.a.transactions,showedTrans:R})})]})]}),h&&Object(k.jsx)(ve,{}),H&&Object(k.jsx)(we,{setCategoryAdd:J,newCategoryType:Y})]})}),De=a(15),Te=a.n(De),ke=function(e){var t=e.value,a=e.title,n=e.width,r=e.onSelected,s=Object(c.useState)(0),o=Object(A.a)(s,2),i=o[0],l=o[1];return Object(c.useEffect)((function(){return l(n)}),[n]),Object(k.jsxs)("button",{onClick:r,className:G()(Te.a.report__block,Te.a[a.toLowerCase()]),style:{width:"".concat(i,"%")},children:[Object(k.jsx)("div",{children:a}),Object(k.jsx)("div",{children:t})]})},Me=function(e){var t,a=e.cat,n=e.showDetail,r=e.width,s=Object(c.useState)(0),o=Object(A.a)(s,2),i=o[0],l=o[1];return Object(c.useEffect)((function(){return l(r)}),[r]),Object(k.jsxs)("div",{className:G()(Te.a.report__block,(t={},Object(re.a)(t,Te.a.incomes,"incomes"===n),Object(re.a)(t,Te.a.expenses,"expenses"===n),t)),style:{width:"".concat(i,"%")},children:[Object(k.jsx)("div",{children:a[0]}),Object(k.jsx)("div",{children:String(a[1]).includes(".")?a[1].toFixed(2):a[1]})]})},Be=function(){var e=Object(d.c)(f),t=Object(A.a)(e,2),a=t[0],n=t[1],r=Object(d.c)(p),s=Object(A.a)(r,2),o=s[0],i=s[1],l=Object(d.d)(u),_=Object(c.useState)(null),b=Object(A.a)(_,2),j=b[0],O=b[1],m=function(e){var t={};e.forEach((function(e){t.hasOwnProperty(e.cat)?t[e.cat]+=Math.abs(e.price):t[e.cat]=Math.abs(e.price)}));var a=Object.entries(t).sort((function(e,t){return Math.abs(t[1])-Math.abs(e[1])})),n=a.map((function(e){var t=e[1]===a[0][1]?100:100*Math.abs(e[1])/Math.abs(a[0][1]);return Object(k.jsx)(Me,{cat:e,width:t,showDetail:j},e[0])}));return Object(k.jsx)("div",{children:n})},h=function(e){var t=l;return t=t.filter((function(e){return e.date>=a&&e.date<new Date(o).toISOString()})),"expenses"===e?t.filter((function(e){return e.price<0})):t.filter((function(e){return e.price>0}))},g=function(e){!e.length>0||O(e[0].price>0?"incomes":"expenses")},v=function(){return O(null)},x=h("expenses"),y=h("incomes"),w=Number(x.reduce((function(e,t){return e+Math.abs(t.price)}),0).toFixed(2)),N=Number(y.reduce((function(e,t){return e+Math.abs(t.price)}),0).toFixed(2)),C=50,S=50;return N>w&&(C=100,S=100*w/N),N<w&&(C=100*N/w,S=100),Object(k.jsxs)("div",{className:Te.a.container,children:[Object(k.jsxs)("div",{className:Te.a.dates,children:[Object(k.jsx)("input",{type:"date",value:a.slice(0,10),onChange:function(e){return n(new Date(e.target.value).toISOString())}}),Object(k.jsx)("span",{children:"\u2014"}),Object(k.jsx)("input",{type:"date",value:o.slice(0,10),min:a.slice(0,10),onChange:function(e){return i(new Date(new Date(e.target.value).setHours(23,59,59,999)).toISOString())}})]}),Object(k.jsxs)("div",{children:[!j&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ke,{title:"Incomes",value:N,width:C||0,onSelected:function(){return g(y)}}),Object(k.jsx)(ke,{onSelected:function(){return g(x)},title:"Expenses",value:w,width:S||0})]}),"incomes"===j&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{onClick:function(){return v()},className:Te.a.back,children:Object(k.jsx)(Z,{className:Te.a.backIcon})}),m(y)]}),"expenses"===j&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{onClick:function(){return v()},className:Te.a.back,children:Object(k.jsx)(Z,{className:Te.a.backIcon})}),m(x)]})]})]})},Ae=a(43),Ee=a.n(Ae),Ie=function(){return Object(k.jsx)(d.a,{children:Object(k.jsx)(i.a,{children:Object(k.jsxs)("div",{className:Ee.a.app,children:[Object(k.jsx)(B,{}),Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{path:"/",exact:!0,children:Object(k.jsx)(ce,{})}),Object(k.jsx)(l.a,{path:"/balance",children:Object(k.jsx)(ge,{})}),Object(k.jsx)(l.a,{path:"/budget",children:Object(k.jsx)(Se,{})}),Object(k.jsx)(l.a,{path:"/report",children:Object(k.jsx)(Be,{})})]})]})})})};o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(Ie,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={hidden:"Budget_hidden__1bCNi",title:"Budget_title__Bqa4g",budget:"Budget_budget__3p1TD",addButton:"Budget_addButton__1QGN0",budget__content:"Budget_budget__content__39jtI",budget__category:"Budget_budget__category__1IOSc",budget__category__header:"Budget_budget__category__header__1_hwW",budget__footer:"Budget_budget__footer__Unm_F",total:"Budget_total__9hQ8e",budget__edit:"Budget_budget__edit__1WET6",calendar:"Budget_calendar__2y9dK",categories:"Budget_categories__OcvzQ",category:"Budget_category__18i3o",editable:"Budget_editable__1sEWD",shaking:"Budget_shaking__76cby",category__wrap:"Budget_category__wrap__9xN8N",active:"Budget_active__3w1jg",category__title:"Budget_category__title__1iYZ6",deleteCategory:"Budget_deleteCategory__1IvO4",button:"Budget_button__3XjjT",edit:"Budget_edit__yfkw-",container:"Budget_container__2RlvZ",transactions:"Budget_transactions__1Vzh-"}},8:function(e,t,a){e.exports={hidden:"Transactions_hidden__3Q7h_",transactions__item:"Transactions_transactions__item__18vnx",transactions__item__cat:"Transactions_transactions__item__cat__1jU41",transactions__item__date:"Transactions_transactions__item__date__12nIf",transactions__item__price:"Transactions_transactions__item__price__2CG6-",expense:"Transactions_expense__J4GgI",income:"Transactions_income__3iNRI",transactions__popover:"Transactions_transactions__popover__13FjF",visible:"Transactions_visible__2fUBl",transactions__popover__button:"Transactions_transactions__popover__button__1xzkC",transactions__filter:"Transactions_transactions__filter__2GQNc",transactions__none:"Transactions_transactions__none__2gHWR",popover:"Transactions_popover__2lx-d",popover__item:"Transactions_popover__item__1x5pP",popover__label:"Transactions_popover__label__1EFch",popover__input:"Transactions_popover__input__3mai1",popover__button:"Transactions_popover__button__1Du18"}}},[[61,1,2]]]);
//# sourceMappingURL=main.0c040d20.chunk.js.map